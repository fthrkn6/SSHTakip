{% extends 'base.html' %}

{% block title %}Profil - SSH Takip{% endblock %}

{% block content %}
<div class="mb-4">
    <h1 class="page-title">Profil</h1>
    <p class="page-subtitle">Hesap bilgileriniz</p>
</div>

<div class="row">
    <div class="col-lg-4">
        <div class="card text-center">
            <div class="card-body p-4">
                <div class="user-avatar mx-auto mb-3" style="width: 100px; height: 100px; font-size: 40px;">
                    {{ current_user.full_name[0] if current_user.full_name else 'U' }}
                </div>
                <h4 class="fw-bold">{{ current_user.full_name or current_user.username }}</h4>
                <p class="text-muted">@{{ current_user.username }}</p>
                <span class="badge bg-primary px-3 py-2">{{ current_user.get_role_display() }}</span>
            </div>
        </div>
    </div>
    
    <div class="col-lg-8">
        <div class="card">
            <div class="card-header">
                <i class="bi bi-person me-2"></i>Profil Bilgileri
            </div>
            <div class="card-body p-4">
                <form method="POST" action="{{ url_for('profil_guncelle') }}">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label class="form-label">Ad Soyad</label>
                            <input type="text" name="full_name" class="form-control" value="{{ current_user.full_name or '' }}">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">E-posta</label>
                            <input type="email" name="email" class="form-control" value="{{ current_user.email }}">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Departman</label>
                            <input type="text" class="form-control" value="{{ current_user.department or '-' }}" disabled>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Kayıt Tarihi</label>
                            <input type="text" class="form-control" value="{{ current_user.created_at.strftime('%d.%m.%Y') }}" disabled>
                        </div>
                    </div>
                    
                    <hr class="my-4">
                    
                    <h6 class="fw-bold mb-3">Şifre Değiştir</h6>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">Yeni Şifre</label>
                            <input type="password" name="new_password" class="form-control" placeholder="Boş bırakın değişmesin">
                        </div>
                    </div>
                    
                    <hr class="my-4">
                    
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-check-lg me-2"></i>Güncelle
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
